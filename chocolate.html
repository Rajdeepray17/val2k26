<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Chocolate Day, Sadia Ji</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Nunito:wght@300;400;600&family=Pacifico&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* --- CHOCOLATE THEME --- */
        :root {
            --dark-choco: #3E2723;
            --milk-choco: #795548;
            --light-choco: #D7CCC8;
            --cream: #FFF8E1;
            --gold: #FFC107;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: radial-gradient(circle at top, #FFF8E1, #D7CCC8);
            color: #3E2723;
            overflow-x: hidden;
            min-height: 100vh;
            cursor: auto; /* Default Cursor */
        }

        h1, h2, h3, .romantic-font { font-family: 'Dancing Script', cursive; }
        .chunky-font { font-family: 'Pacifico', cursive; }

        /* Floating Sweets Background */
        .falling-sweet {
            position: fixed; top: -10vh; font-size: 1.5rem; z-index: 0; pointer-events: none;
            animation: fall linear forwards; opacity: 0.6;
        }
        @keyframes fall {
            0% { transform: translateY(0) rotate(0deg); }
            100% { transform: translateY(110vh) rotate(360deg); }
        }

        /* Glass Cards */
        .glass-card {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(8px);
            border: 2px solid rgba(255, 255, 255, 0.8);
            border-radius: 1.5rem;
            box-shadow: 0 8px 32px rgba(62, 39, 35, 0.1);
        }

        /* Polaroid Photo Style */
        .polaroid {
            background: white;
            padding: 1rem;
            padding-bottom: 3.5rem;
            box-shadow: 0 10px 25px rgba(62, 39, 35, 0.2);
            transform: rotate(-3deg);
            transition: all 0.4s ease;
        }
        .polaroid:hover {
            transform: rotate(0deg) scale(1.05);
            z-index: 10;
            box-shadow: 0 20px 40px rgba(62, 39, 35, 0.3);
        }

        /* --- FEATURE 1: SCRATCH CARD --- */
        .scratch-card {
            position: relative; width: 100%; height: 150px;
            background: white; border-radius: 10px; overflow: hidden;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1); user-select: none;
        }
        .scratch-canvas {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            cursor: crosshair; z-index: 2;
        }
        .scratch-content {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            z-index: 1; background: #FFF3E0; text-align: center; padding: 10px;
        }

        /* --- FEATURE 2: BUILD A BOX (FLIP LOGIC) --- */
        .box-perspective {
            perspective: 1000px; width: 260px; height: 250px; margin: 0 auto;
        }
        .heart-box-inner {
            position: relative; width: 100%; height: 100%; text-align: center;
            transition: transform 0.8s; transform-style: preserve-3d;
            clip-path: path('M128 250 L30 150 A60 60 0 0 1 128 60 A60 60 0 0 1 226 150 Z');
        }
        .heart-box-inner.flipped { transform: rotateY(180deg); }
        .box-front, .box-back {
            position: absolute; width: 100%; height: 100%;
            -webkit-backface-visibility: hidden; backface-visibility: hidden;
            display: flex; flex-wrap: wrap; justify-content: center; align-content: center; gap: 5px;
        }
        .box-front {
            background-color: #9B2C2C; border: 4px solid #742A2A;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
        }
        .box-back {
            background-color: white; transform: rotateY(180deg); overflow: hidden;
        }
        .box-back img { width: 100%; height: 100%; object-fit: cover; }
        .choco-box-slot {
            width: 60px; height: 60px; background: rgba(62, 39, 35, 0.2);
            border-radius: 50%; border: 2px dashed #795548;
            display: flex; align-items: center; justify-content: center;
        }
        .draggable-choco { cursor: grab; font-size: 2.5rem; transition: transform 0.2s; }
        .draggable-choco:active { cursor: grabbing; transform: scale(1.2); }

        /* --- FEATURE 3: FORTUNE COOKIE --- */
        .cookie-wrapper { cursor: pointer; transition: transform 0.3s; }
        .cookie-wrapper:hover { transform: scale(1.05); }
        .fortune-paper {
            background: white; color: #d32f2f; font-family: 'Courier New', monospace;
            padding: 5px 20px; border: 1px solid #ddd; box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
            transform: scaleX(0); transition: transform 0.5s ease-out; transform-origin: left;
        }
        .cookie-broken .fortune-paper { transform: scaleX(1); }
        .cookie-left, .cookie-right { transition: transform 0.5s ease; }
        .cookie-broken .cookie-left { transform: translateX(-20px) rotate(-15deg); }
        .cookie-broken .cookie-right { transform: translateX(20px) rotate(15deg); }

        /* --- MINIMALIST MUSIC PLAYER --- */
        .music-player-minimal {
            position: fixed; bottom: 20px; left: 20px; z-index: 100;
            width: 50px; height: 50px; border-radius: 50%;
            background: #3E2723; border: 2px solid #FFC107;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            transition: transform 0.3s;
        }
        .music-player-minimal:hover { transform: scale(1.1); }
        .disk-spin { animation: spin 4s linear infinite; animation-play-state: paused; }
        .disk-spin.playing { animation-play-state: running; }
        @keyframes spin { 100% { transform: rotate(360deg); } }

        /* HOT CHOCOLATE */
        .steam {
            position: absolute; top: -20px; left: 50%; width: 10px; height: 10px;
            background: #fff; border-radius: 50%; opacity: 0; filter: blur(4px);
            animation: rise 2s infinite ease-out;
        }
        @keyframes rise {
            0% { transform: translateY(0) scale(1); opacity: 0.5; }
            100% { transform: translateY(-30px) scale(2); opacity: 0; }
        }

        .btn-choco {
            background: linear-gradient(45deg, #3E2723, #5D4037);
            color: #FFECB3; border: 2px solid #FFC107;
        }
        .btn-disabled {
            background-color: #D7CCC8; color: #9E9E9E; cursor: not-allowed; border: none;
        }
    </style>
</head>
<body class="relative select-none">

    <div id="sweets-container"></div>

    <div class="music-player-minimal" onclick="toggleMusic()">
        <div class="text-2xl disk-spin" id="disk-icon">üíø</div>
        <audio id="bg-music" loop>
            <source src="Songs/chocolate.mp3" type="audio/mp3">
        </audio>
    </div>

    <div class="fixed bottom-5 right-5 z-50 cursor-pointer hover:scale-110 transition-transform" onclick="petTheCat()">
        <div class="absolute bottom-full right-0 mb-2 bg-white px-3 py-1 rounded-xl shadow text-xs font-bold text-amber-900 opacity-0 transition-opacity w-32 text-center" id="kitty-bubble">
            Yum! Chocolate!
        </div>
        <svg width="60" height="60" viewBox="0 0 100 100" fill="none">
            <path d="M20 75C20 75 10 35 30 25C30 25 35 10 50 10C65 10 70 25 70 25C90 35 80 75 80 75L20 75Z" fill="#FFF8E1" stroke="#3E2723" stroke-width="3"/>
            <path d="M30 25L40 40H25L30 25Z" fill="#795548"/> 
            <circle cx="38" cy="50" r="4" fill="#3E2723"/>
            <circle cx="62" cy="50" r="4" fill="#3E2723"/>
            <path d="M47 58L53 58L50 62L47 58Z" fill="#FF8A80"/>
            <path d="M50 62Q45 68 40 65" stroke="#3E2723" stroke-width="2"/>
            <path d="M50 62Q55 68 60 65" stroke="#3E2723" stroke-width="2"/>
        </svg>
    </div>

    <div class="relative z-10 max-w-3xl mx-auto px-4 py-8 flex flex-col items-center gap-12">

        <header class="text-center mt-8 animate-fade-in-down">
            <h1 class="text-6xl md:text-8xl font-bold text-amber-900 romantic-font drop-shadow-md">
                Happy Chocolate Day
            </h1>
            <h2 class="text-3xl md:text-4xl mt-2 text-amber-700 font-light romantic-font">
                Sadia Ji
            </h2>
        </header>

        <section class="w-full flex justify-center py-6">
            <div class="polaroid w-72 md:w-80 relative group cursor-pointer">
                <div class="w-full h-72 bg-amber-50 flex items-center justify-center overflow-hidden rounded-sm relative">
                    <img src="Picture/Sadia4.jpeg" alt="My Sweet Sadia" class="w-full h-full object-cover transform hover:scale-110 transition-transform duration-500">
                </div>
                <div class="text-center mt-4 text-amber-900 text-2xl romantic-font">
                    Sweeter than Chocolate
                </div>
            </div>
        </section>

        <section class="glass-card p-8 text-center max-w-lg mx-auto transform hover:scale-[1.01] transition-transform">
            <p class="text-xl text-amber-950 font-serif leading-relaxed">
                To my <span class="font-bold text-amber-700">Kuchu Puchu</span>,<br>
                Just like hot chocolate warms the soul, your love warms my heart. Here are some sweet treats, just for you.
            </p>
        </section>

        <section class="w-full max-w-lg glass-card p-6 border-4 border-amber-200">
            <h3 class="text-2xl text-center text-amber-900 chunky-font mb-4">Pack a Box for Me! üéÅ</h3>
            <p class="text-center text-sm text-amber-700 mb-6">Drag your favorite sweets into the heart box.</p>

            <div class="box-perspective mb-8">
                <div id="heart-box" class="heart-box-inner">
                    <div class="box-front">
                        <div class="choco-box-slot" data-filled="false"></div>
                        <div class="choco-box-slot" data-filled="false"></div>
                        <div class="choco-box-slot" data-filled="false"></div>
                        <div class="choco-box-slot" data-filled="false"></div>
                    </div>
                    <div class="box-back">
                        <img src="Pictures/Sadia.jpeg" alt="Sadia">
                    </div>
                </div>
            </div>

            <div class="flex justify-center gap-4 bg-white/50 p-4 rounded-xl">
                <div class="draggable-choco" draggable="true" ondragstart="drag(event)" id="choco1">üç´</div>
                <div class="draggable-choco" draggable="true" ondragstart="drag(event)" id="choco2">üç¨</div>
                <div class="draggable-choco" draggable="true" ondragstart="drag(event)" id="choco3">üç©</div>
                <div class="draggable-choco" draggable="true" ondragstart="drag(event)" id="choco4">üç™</div>
                <div class="draggable-choco" draggable="true" ondragstart="drag(event)" id="choco5">üç≠</div>
            </div>
            
            <p id="box-msg" class="text-center text-amber-800 font-bold mt-4 opacity-0 transition-opacity">My Sweetest Gift! ‚ù§Ô∏è</p>
        </section>

        <section class="w-full">
            <h3 class="text-3xl text-center text-amber-800 mb-6 romantic-font">Scratch for a Surprise</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="scratch-card">
                    <div class="scratch-content">
                        <span class="text-4xl">üß∏</span>
                        <h4 class="font-bold text-amber-900">Big Bear Hug</h4>
                        <p class="text-xs">Waiting for you...</p>
                    </div>
                    <canvas class="scratch-canvas" id="scratch1"></canvas>
                </div>
                <div class="scratch-card">
                    <div class="scratch-content">
                        <span class="text-4xl">üçø</span>
                        <h4 class="font-bold text-amber-900">Movie Night</h4>
                        <p class="text-xs">You pick the film!</p>
                    </div>
                    <canvas class="scratch-canvas" id="scratch2"></canvas>
                </div>
                <div class="scratch-card">
                    <div class="scratch-content">
                        <span class="text-4xl">üíÜ‚Äç‚ôÄÔ∏è</span>
                        <h4 class="font-bold text-amber-900">Head Massage</h4>
                        <p class="text-xs">Relaxation Time</p>
                    </div>
                    <canvas class="scratch-canvas" id="scratch3"></canvas>
                </div>
            </div>
            <p class="text-center text-xs text-amber-600 mt-2">Scratch the silver area with your mouse/finger!</p>
        </section>

        <section class="w-full text-center py-6">
            <h3 class="text-3xl text-amber-800 mb-4 romantic-font">Your Choco-Fortune</h3>
            <div class="cookie-wrapper inline-block relative h-32 w-64" onclick="crackCookie(this)">
                <div class="fortune-paper absolute top-10 left-10 z-0 text-xs">
                    "Your smile is sweeter than any chocolate."
                </div>
                <div class="cookie-left absolute left-0 w-32 h-32 bg-amber-300 rounded-full z-10" style="clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%); border-radius: 50% 0 0 50%;"></div>
                <div class="cookie-right absolute right-0 w-32 h-32 bg-amber-400 rounded-full z-10" style="clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%); border-radius: 0 50% 50% 0;"></div>
            </div>
            <p class="text-amber-700 text-sm mt-4">Click to crack open!</p>
        </section>

        <section class="glass-card p-8 w-full max-w-md text-center">
            <h3 class="text-3xl text-amber-800 mb-2 romantic-font">Brew Our Love</h3>
            <p class="text-sm text-amber-600 mb-6">Make a warm cup for us</p>

            <div class="h-48 flex items-end justify-center relative mb-4">
                <div class="relative w-32 h-32 bg-red-700 rounded-b-3xl rounded-t-sm shadow-xl flex items-center justify-center z-10 border-4 border-red-900">
                    <span class="text-white font-bold font-serif text-2xl drop-shadow-md">S & R</span>
                    <div class="absolute -right-8 top-4 w-10 h-16 border-4 border-red-900 rounded-r-2xl"></div>
                    <div id="liquid" class="absolute bottom-2 left-2 right-2 bg-amber-900 rounded-b-2xl transition-all duration-700" style="height: 0%; opacity: 0.8;"></div>
                    <div id="steam-container" class="hidden">
                        <div class="steam"></div><div class="steam" style="animation-delay: 0.5s; left: 40%"></div><div class="steam" style="animation-delay: 1s; left: 60%"></div>
                    </div>
                </div>
            </div>

            <div class="flex justify-center gap-4 mb-4">
                <button onclick="addIngredient('milk')" class="bg-blue-100 hover:bg-blue-200 text-blue-800 px-3 py-1 rounded text-sm font-bold border border-blue-300">ü•õ Milk</button>
                <button onclick="addIngredient('cocoa')" class="bg-amber-800 hover:bg-amber-900 text-white px-3 py-1 rounded text-sm font-bold border border-amber-950">üç´ Cocoa</button>
                <button onclick="addIngredient('marshmallow')" class="bg-pink-100 hover:bg-pink-200 text-pink-600 px-3 py-1 rounded text-sm font-bold border border-pink-300">üç• Mallows</button>
            </div>
            <p id="brew-status" class="text-amber-800 font-bold h-6">Empty Cup...</p>
        </section>

        <section class="w-full max-w-md text-center py-10 border-t border-amber-300 mt-8">
            <p class="text-amber-800 font-bold mb-4 uppercase tracking-widest text-sm">Time left to Teddy Day</p>
            <div id="countdown" class="flex justify-center gap-6 mb-8 font-mono text-amber-900 bg-white/60 py-4 px-6 rounded-2xl shadow-sm inline-flex">
                <div class="flex flex-col"><span id="hours" class="text-3xl font-bold">00</span><span class="text-[10px]">Hours</span></div>
                <div class="text-2xl font-bold text-amber-600">:</div>
                <div class="flex flex-col"><span id="minutes" class="text-3xl font-bold">00</span><span class="text-[10px]">Mins</span></div>
                <div class="text-2xl font-bold text-amber-600">:</div>
                <div class="flex flex-col"><span id="seconds" class="text-3xl font-bold">00</span><span class="text-[10px]">Secs</span></div>
            </div>
            <br>
            <a id="day3-link" href="teddy.html" class="inline-block" onclick="return checkDate(event)">
                <button id="day3-btn" class="btn-disabled px-10 py-4 rounded-full font-bold shadow-md transition-all duration-300 flex items-center gap-3 text-lg">
                    <span>Next: Day 4</span>
                    <span class="text-2xl">üß∏</span>
                </button>
            </a>
            <p id="wait-msg" class="text-xs text-amber-700 mt-3 italic">Unlocks on Feb 10th</p>
        </section>

    </div>

    <script>
        /* --- 1. Background Animation --- */
        function createSweet() {
            const container = document.getElementById('sweets-container');
            const sweet = document.createElement('div');
            const types = ['üç´', 'üç¨', 'üç™', 'üç©'];
            sweet.innerText = types[Math.floor(Math.random() * types.length)];
            sweet.classList.add('falling-sweet');
            sweet.style.fontSize = (Math.random() * 1.5 + 1) + 'rem';
            sweet.style.left = Math.random() * 100 + 'vw';
            sweet.style.animationDuration = (Math.random() * 5 + 5) + 's';
            container.appendChild(sweet);
            setTimeout(() => { sweet.remove(); }, 10000);
        }
        setInterval(createSweet, 600);

        /* --- 2. Build-A-Box Drag & Drop (FLIP LOGIC) --- */
        function drag(ev) { ev.dataTransfer.setData("text", ev.target.innerText); }
        
        const slots = document.querySelectorAll('.choco-box-slot');
        let filledCount = 0;

        slots.forEach(slot => {
            slot.addEventListener('dragover', (e) => e.preventDefault());
            slot.addEventListener('drop', (e) => {
                e.preventDefault();
                if (slot.dataset.filled === "true") return;
                const data = e.dataTransfer.getData("text");
                slot.innerHTML = `<span style="font-size: 2rem;">${data}</span>`;
                slot.dataset.filled = "true";
                slot.style.border = "none";
                filledCount++;
                
                // CHECK IF BOX IS FULL
                if(filledCount === 4) {
                    setTimeout(() => {
                        // Trigger Flip
                        document.getElementById('heart-box').classList.add('flipped');
                        document.getElementById('box-msg').style.opacity = '1';
                        createConfetti();
                    }, 500);
                }
            });
        });

        /* --- 3. Scratch Cards --- */
        function initScratchCard(canvasId) {
            const canvas = document.getElementById(canvasId);
            const ctx = canvas.getContext('2d');
            const width = canvas.parentElement.offsetWidth;
            const height = canvas.parentElement.offsetHeight;
            canvas.width = width;
            canvas.height = height;

            // Fill with Silver
            ctx.fillStyle = '#C0C0C0';
            ctx.fillRect(0, 0, width, height);
            
            // Add "Scratch Me" text
            ctx.fillStyle = '#666';
            ctx.font = '20px Arial';
            ctx.fillText("Scratch Me!", width/2 - 50, height/2);

            let isDrawing = false;

            function scratch(x, y) {
                ctx.globalCompositeOperation = 'destination-out';
                ctx.beginPath();
                ctx.arc(x, y, 15, 0, Math.PI * 2);
                ctx.fill();
            }

            canvas.addEventListener('mousedown', () => isDrawing = true);
            canvas.addEventListener('mouseup', () => isDrawing = false);
            canvas.addEventListener('mousemove', (e) => {
                if (!isDrawing) return;
                const rect = canvas.getBoundingClientRect();
                scratch(e.clientX - rect.left, e.clientY - rect.top);
            });
            // Touch support
            canvas.addEventListener('touchstart', () => isDrawing = true);
            canvas.addEventListener('touchend', () => isDrawing = false);
            canvas.addEventListener('touchmove', (e) => {
                if (!isDrawing) return;
                e.preventDefault();
                const rect = canvas.getBoundingClientRect();
                scratch(e.touches[0].clientX - rect.left, e.touches[0].clientY - rect.top);
            });
        }
        
        // Init all cards after load
        setTimeout(() => {
            initScratchCard('scratch1');
            initScratchCard('scratch2');
            initScratchCard('scratch3');
        }, 500);

        /* --- 4. Fortune Cookie --- */
        const fortunes = [
            "Your smile is sweeter than any chocolate.",
            "A surprise date is coming your way!",
            "You are the marshmallow to my cocoa.",
            "Life is sweet because you are in it."
        ];
        function crackCookie(el) {
            if(el.classList.contains('cookie-broken')) return;
            el.classList.add('cookie-broken');
            const paper = el.querySelector('.fortune-paper');
            paper.innerText = fortunes[Math.floor(Math.random() * fortunes.length)];
        }

        /* --- 5. Brew Logic --- */
        let brewStep = 0;
        function addIngredient(type) {
            const liquid = document.getElementById('liquid');
            const status = document.getElementById('brew-status');
            const steam = document.getElementById('steam-container');
            
            if(brewStep === 0 && type === 'milk') {
                liquid.style.height = "50%"; liquid.style.backgroundColor = "#FFF8E1";
                status.innerText = "Milk added..."; brewStep = 1;
            } else if(brewStep === 1 && type === 'cocoa') {
                liquid.style.backgroundColor = "#5D4037"; status.innerText = "Chocolaty..."; brewStep = 2;
            } else if(brewStep === 2 && type === 'marshmallow') {
                liquid.style.height = "80%"; status.innerText = "Perfect! ‚ù§Ô∏è";
                steam.classList.remove('hidden'); brewStep = 3; createConfetti();
            }
        }

        /* --- 6. Music Toggle --- */
        function toggleMusic() {
            const audio = document.getElementById('bg-music');
            const disk = document.getElementById('disk-icon');
            if (audio.paused) { audio.play(); disk.classList.add('playing'); } 
            else { audio.pause(); disk.classList.remove('playing'); }
        }

        /* --- 7. Confetti Helper --- */
        function createConfetti() {
            for(let i=0; i<30; i++) {
                const c = document.createElement('div');
                c.style.cssText = `position:fixed; left:${Math.random()*100}vw; top:-10px; width:10px; height:10px; background:${['#FFC107','#795548','#FFF'][Math.floor(Math.random()*3)]}; z-index:99; transition:top 3s, transform 3s;`;
                document.body.appendChild(c);
                setTimeout(() => { c.style.top = '100vh'; c.style.transform = `rotate(${Math.random()*360}deg)`; }, 10);
                setTimeout(() => c.remove(), 3000);
            }
        }
        function petTheCat() { 
            const b = document.getElementById('kitty-bubble'); 
            b.style.opacity = '1'; setTimeout(() => b.style.opacity = '0', 2000); 
            createConfetti(); 
        }

        /* Countdown */
        function updateCountdown() {
            const now = new Date();
            const target = new Date(now.getFullYear(), 1, 10, 0, 0, 0); // Feb 10
            const diff = target - now;
            if (diff <= 0) {
                const btn = document.getElementById('day3-btn');
                btn.classList.remove('btn-disabled'); btn.classList.add('btn-choco'); btn.removeAttribute('disabled');
                return;
            }
            document.getElementById('hours').innerText = String(Math.floor((diff % (86400000)) / 3600000)).padStart(2, '0');
            document.getElementById('minutes').innerText = String(Math.floor((diff % 3600000) / 60000)).padStart(2, '0');
            document.getElementById('seconds').innerText = String(Math.floor((diff % 60000) / 1000)).padStart(2, '0');
        }
        setInterval(updateCountdown, 1000); updateCountdown();
        
        function checkDate(e) {
            if (document.getElementById('day3-btn').classList.contains('btn-disabled')) {
                e.preventDefault(); alert("Teddy Day is on Feb 10th! üß∏"); return false;
            } return true;
        }
    </script>
</body>
</html>