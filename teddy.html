<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Teddy Day, Sadia Ji</title>
    <!-- Fonts: Rounded and Cozy -->
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Indie+Flower&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --teddy-brown: #d4a373;
            --teddy-light: #fefae0;
            --teddy-dark: #bc6c25;
            --blush: #ffafcc;
            --night-bg: #2b2d42;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: #fdf6e3; /* Creamy beige */
            color: #5d4037;
            transition: background-color 1.5s ease, color 1.5s ease;
            overflow-x: hidden;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="%23d4a373" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/><circle cx="8" cy="10" r="1.5" fill="%235d4037"/><circle cx="16" cy="10" r="1.5" fill="%235d4037"/><path d="M10 14q2 2 4 0" stroke="%235d4037" stroke-width="1.5" fill="none"/></svg>') 12 12, auto;
        }

        /* --- NIGHT MODE CLASSES --- */
        body.night-mode {
            background-color: var(--night-bg);
            color: #e2e8f0;
        }
        .night-mode .glass-panel {
            background: rgba(43, 45, 66, 0.7);
            border-color: rgba(255, 255, 255, 0.1);
        }
        .night-mode h1, .night-mode h2 {
            text-shadow: 0 0 10px rgba(255,255,255,0.3);
        }

        h1, h2 { font-family: 'Fredoka One', cursive; }
        .handwritten { font-family: 'Indie Flower', cursive; }

        /* --- POLAROID --- */
        .polaroid {
            background: white;
            padding: 15px 15px 50px 15px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            transform: rotate(2deg);
            transition: transform 0.3s;
        }
        .polaroid:hover { transform: rotate(-2deg) scale(1.02); }

        /* --- SVG TEDDY ANIMATIONS --- */
        .teddy-svg {
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .teddy-svg:active { transform: scale(0.9) translateY(5px); }
        
        .ear { transform-origin: center bottom; transition: transform 0.3s; }
        .teddy-svg:hover .ear.left { transform: rotate(-10deg); }
        .teddy-svg:hover .ear.right { transform: rotate(10deg); }

        .eye { transition: all 0.3s; transform-origin: center; }
        .eye.closed { transform: scaleY(0.1); }
        
        .cheek { opacity: 0; transition: opacity 0.5s; }
        .cheek.blushing { opacity: 0.6; }

        /* --- GAME: PLUSHIE PAIRS --- */
        .memory-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            perspective: 1000px;
        }
        .card {
            aspect-ratio: 1;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.5s;
            cursor: pointer;
        }
        .card.flipped { transform: rotateY(180deg); }
        .card-face {
            position: absolute;
            inset: 0;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            font-size: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .card-front { background: #faedcd; border: 2px solid #d4a373; }
        .card-back { background: #fff; transform: rotateY(180deg); border: 2px solid #ccd5ae; }

        /* --- HUG OVERLAY --- */
        #hug-overlay {
            position: fixed; inset: 0; pointer-events: none; z-index: 100;
        }
        .paw {
            position: absolute; width: 150px; height: 300px;
            background: #d4a373; border-radius: 100px;
            bottom: -300px; transition: bottom 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 -5px 20px rgba(0,0,0,0.1);
        }
        .paw::after { /* Paw Pad */
            content: ''; position: absolute; top: 40px; left: 50%; transform: translateX(-50%);
            width: 80px; height: 100px; background: #faedcd; border-radius: 50px;
        }
        .paw.left { left: -50px; transform: rotate(20deg); }
        .paw.right { right: -50px; transform: rotate(-20deg); }
        
        .hugging .paw.left { bottom: -50px; left: 20%; transform: rotate(10deg); }
        .hugging .paw.right { bottom: -50px; right: 20%; transform: rotate(-10deg); }

        /* --- UTILS --- */
        .glass-panel {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(8px);
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.5);
        }
        .btn-teddy {
            background: #bc6c25; color: white;
            padding: 10px 20px; border-radius: 50px;
            font-family: 'Fredoka One'; letter-spacing: 1px;
            transition: all 0.2s; box-shadow: 0 4px 0 #8c4a16;
        }
        .btn-teddy:active { transform: translateY(4px); box-shadow: none; }
        .btn-disabled { background: #ccc; box-shadow: none; cursor: not-allowed; opacity: 0.6; }

        /* Stars */
        .star {
            position: fixed; background: white; border-radius: 50%;
            opacity: 0; transition: opacity 1s; animation: twinkle 2s infinite alternate;
        }
        @keyframes twinkle { from { opacity: 0.3; } to { opacity: 1; } }
    </style>
</head>
<body class="pb-20">

    <!-- Hug Overlay -->
    <div id="hug-overlay">
        <div class="paw left"></div>
        <div class="paw right"></div>
    </div>

    <!-- Background Music -->
    <div class="fixed top-4 right-4 z-50">
        <button onclick="toggleSound()" class="bg-white/50 p-3 rounded-full hover:bg-white/80 transition shadow-sm">
            <span id="sound-icon">üéµ</span>
        </button>
        <audio id="bg-music" loop>
            <source src="#" type="audio/mp3">
        </audio>
    </div>

    <!-- Cat Mascot (Recurring) -->
    <div class="fixed bottom-4 left-4 z-50 cursor-pointer hover:scale-110 transition-transform" onclick="petCat()">
        <div id="cat-bubble" class="absolute bottom-full left-0 mb-2 bg-white text-xs px-3 py-1 rounded-xl opacity-0 transition-opacity whitespace-nowrap text-amber-900 font-bold">
            Can I have a teddy too? üê±
        </div>
        <span class="text-5xl drop-shadow-lg">üê±</span>
    </div>

    <!-- Header -->
    <header class="text-center pt-10 px-4 mb-8">
        <h1 class="text-4xl md:text-6xl text-amber-800 mb-2 drop-shadow-sm">Happy Teddy Day</h1>
        <h2 class="text-xl md:text-2xl text-amber-700/80 handwritten">My Softest Plushyy</h2>
    </header>

    <!-- Section 1: Polaroid & Intro -->
    <section class="max-w-md mx-auto mb-16 flex flex-col items-center">
        <div class="polaroid">
            <div class="w-64 h-64 bg-amber-50 flex items-center justify-center overflow-hidden">
                <!-- Placeholder Image -->
                <img src="Pictures/Sadia5.jpeg" onerror="if(this.src.includes('Pictures/Sadia5.jpeg')){this.src='Picture/Sadia5.jpeg';}else{this.src='https://placehold.co/400x400/faedcd/bc6c25?text=My+Safe+Place';}" class="object-cover w-full h-full opacity-90 hover:opacity-100 transition">
            </div>
            <div class="text-center mt-4 text-xl handwritten text-gray-600 font-bold">You feel like Home üß∏</div>
        </div>
        <p class="text-center mt-6 px-6 text-lg handwritten font-bold opacity-80">
            "The world can be loud, but your arms are my quiet place. <br> You are my warm blanket on a cold day."
        </p>
    </section>

    <!-- Section 2: Stitch Your Bear (Customization) -->
    <section class="max-w-md mx-auto mb-16 px-4 text-center">
        <h2 class="text-2xl text-amber-800 mb-2">1. Meet Your Cuddle Buddy</h2>
        <p class="text-sm mb-6 opacity-70">Customize him, then give him a poke!</p>
        
        <div class="glass-panel p-6 relative">
            <!-- Toggle Night Mode -->
            <div class="absolute top-4 right-4">
                <label class="flex items-center cursor-pointer">
                    <div class="relative">
                        <input type="checkbox" id="night-toggle" class="sr-only" onchange="toggleNightMode()">
                        <div class="w-10 h-6 bg-gray-300 rounded-full shadow-inner transition-colors" id="toggle-bg"></div>
                        <div class="dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full shadow transition-transform" id="toggle-dot"></div>
                    </div>
                    <span class="ml-2 text-xs font-bold" id="mode-label">Nap Time?</span>
                </label>
            </div>

            <!-- Interactive Teddy SVG -->
            <div class="teddy-svg w-48 h-48 mx-auto cursor-pointer" onclick="pokeTeddy()">
                <svg viewBox="0 0 200 200" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <!-- Ears -->
                    <circle cx="40" cy="50" r="25" fill="#d4a373" class="ear left"/>
                    <circle cx="160" cy="50" r="25" fill="#d4a373" class="ear right"/>
                    <circle cx="40" cy="50" r="15" fill="#faedcd" class="ear left"/>
                    <circle cx="160" cy="50" r="15" fill="#faedcd" class="ear right"/>
                    <!-- Head -->
                    <circle cx="100" cy="100" r="70" fill="#d4a373"/>
                    <!-- Snout -->
                    <ellipse cx="100" cy="110" rx="25" ry="20" fill="#faedcd"/>
                    <circle cx="100" cy="100" r="8" fill="#5d4037"/> <!-- Nose -->
                    <path d="M100 108v15" stroke="#5d4037" stroke-width="3" stroke-linecap="round"/>
                    <path d="M90 123q10 10 20 0" stroke="#5d4037" stroke-width="3" stroke-linecap="round"/>
                    <!-- Eyes -->
                    <circle id="eye-l" cx="70" cy="85" r="6" fill="#333" class="eye"/>
                    <circle id="eye-r" cx="130" cy="85" r="6" fill="#333" class="eye"/>
                    <!-- Cheeks (Blush) -->
                    <circle cx="60" cy="110" r="10" fill="#ffafcc" class="cheek" id="cheek-l"/>
                    <circle cx="140" cy="110" r="10" fill="#ffafcc" class="cheek" id="cheek-r"/>
                    <!-- Bow Tie (Dynamic Color) -->
                    <path id="bowtie" d="M80 160 L100 170 L120 160 L120 180 L100 170 L80 180 Z" fill="#e63946" stroke="#fff" stroke-width="2"/>
                    <!-- Accessory (Hidden by default) -->
                    <text id="accessory" x="130" y="70" font-size="40" class="hidden">üëë</text>
                </svg>
            </div>
            
            <p id="teddy-speech" class="mt-4 font-bold text-amber-700 min-h-[1.5rem] transition-all">Hi! I'm Mr. Cuddles.</p>

            <!-- Customization Controls -->
            <div class="flex justify-center gap-2 mt-4">
                <button onclick="changeBow('#e63946')" class="w-6 h-6 rounded-full bg-red-500 border-2 border-white shadow"></button>
                <button onclick="changeBow('#457b9d')" class="w-6 h-6 rounded-full bg-blue-500 border-2 border-white shadow"></button>
                <button onclick="changeBow('#ffb703')" class="w-6 h-6 rounded-full bg-yellow-500 border-2 border-white shadow"></button>
                <button onclick="toggleAccessory()" class="w-6 h-6 rounded-full bg-purple-100 border-2 border-purple-300 shadow flex items-center justify-center text-xs">üëë</button>
            </div>
        </div>
    </section>

    <!-- Section 3: Plushie Pairs (Memory Game) -->
    <section class="max-w-md mx-auto mb-16 px-4 text-center">
        <h2 class="text-2xl text-amber-800 mb-2">2. Plushie Pairs</h2>
        <p class="text-sm mb-4 opacity-70">Find the matching soft toys!</p>
        
        <div class="memory-grid mb-4" id="game-board">
            <!-- JS generates cards -->
        </div>
        <p id="game-msg" class="text-green-600 font-bold opacity-0 transition-opacity">Yay! All cozy together! üß∏</p>
    </section>

    <!-- Section 4: Virtual Hug -->
    <section class="max-w-md mx-auto mb-16 px-4 text-center">
        <h2 class="text-2xl text-amber-800 mb-4">3. Feeling lonely?</h2>
        <button onclick="giveHug()" class="bg-rose-400 text-white font-bold py-4 px-10 rounded-full shadow-lg hover:bg-rose-500 hover:scale-105 transition transform flex items-center gap-2 mx-auto">
            <span class="text-2xl">ü´Ç</span> Send Giant Bear Hug
        </button>
    </section>

    <!-- Section 5: Easter Egg (Hidden) -->
    <div id="easter-egg" class="fixed inset-0 bg-black/90 hidden z-[100] flex items-center justify-center p-6 text-center">
        <div class="bg-white p-8 rounded-2xl max-w-sm relative overflow-hidden">
            <div class="absolute top-0 left-0 w-full h-4 bg-amber-400"></div>
            <h3 class="text-3xl font-bold text-amber-800 mb-4 handwritten">Secret Unlocked! üçØ</h3>
            <p class="text-gray-600 mb-6">
                You poked Mr. Cuddles enough times to find his secret stash of love!
                <br><br>
                <span class="font-bold text-rose-500">I promise to always be your teddy bear.</span>
            </p>
            <button onclick="document.getElementById('easter-egg').classList.add('hidden')" class="btn-teddy text-sm">Keep Cuggling</button>
        </div>
    </div>

    <!-- Footer: Countdown -->
    <footer class="max-w-md mx-auto text-center border-t-2 border-amber-100 pt-8 mt-8">
        <p class="uppercase tracking-widest text-xs font-bold text-amber-800/50 mb-4">Time left to Promise Day</p>
        
        <div id="countdown" class="flex justify-center gap-4 mb-8 font-mono text-amber-900 bg-white/50 py-3 rounded-xl inline-flex px-6">
            <div class="flex flex-col"><span id="hours" class="text-2xl font-bold">00</span><span class="text-[10px]">HRS</span></div>
            <span class="text-2xl">:</span>
            <div class="flex flex-col"><span id="minutes" class="text-2xl font-bold">00</span><span class="text-[10px]">MIN</span></div>
            <span class="text-2xl">:</span>
            <div class="flex flex-col"><span id="seconds" class="text-2xl font-bold">00</span><span class="text-[10px]">SEC</span></div>
        </div>

        <a id="day5-link" href="promise.html" onclick="return checkDate(event)">
            <button id="day5-btn" class="btn-teddy btn-disabled py-3 px-8 text-lg flex items-center gap-2 mx-auto">
                Next: Day 5 ü§û
            </button>
        </a>
        <p class="text-[10px] text-gray-400 mt-2">Unlocks on Feb 11th</p>
    </footer>

    <!-- Stars Container (For Night Mode) -->
    <div id="stars-container" class="fixed inset-0 pointer-events-none z-0"></div>

    <script>
        /* --- 1. CUSTOMIZE TEDDY --- */
        function changeBow(color) {
            document.getElementById('bowtie').setAttribute('fill', color);
            triggerSpeech("Ooh! I like this color! üéÄ");
        }

        function toggleAccessory() {
            const acc = document.getElementById('accessory');
            if (acc.classList.contains('hidden')) {
                acc.classList.remove('hidden');
                triggerSpeech("I feel like a King! üëë");
            } else {
                acc.classList.add('hidden');
                triggerSpeech("Back to basics! üêª");
            }
        }

        /* --- 2. POKE TEDDY INTERACTION --- */
        let pokeCount = 0;
        const dialogues = [
            "Hehe! That tickles!",
            "You're cute! üíï",
            "Poke poke!",
            "I love cuddles!",
            "Can I have a hug?",
            "*Giggles*"
        ];

        function pokeTeddy() {
            const svg = document.querySelector('.teddy-svg');
            
            // Animation
            svg.style.transform = "scale(0.95)";
            setTimeout(() => svg.style.transform = "scale(1)", 150);

            // Blush Effect
            document.querySelectorAll('.cheek').forEach(c => c.classList.add('blushing'));
            setTimeout(() => document.querySelectorAll('.cheek').forEach(c => c.classList.remove('blushing')), 1000);

            // Speech
            pokeCount++;
            if(pokeCount === 10) {
                document.getElementById('easter-egg').classList.remove('hidden');
                triggerSpeech("SECRET FOUND! üçØ");
            } else {
                triggerSpeech(dialogues[Math.floor(Math.random() * dialogues.length)]);
            }
        }

        function triggerSpeech(text) {
            const bubble = document.getElementById('teddy-speech');
            bubble.style.opacity = '0';
            setTimeout(() => {
                bubble.innerText = text;
                bubble.style.opacity = '1';
            }, 200);
        }

        /* --- 3. NIGHT MODE / SLEEP --- */
        let isNight = false;
        function toggleNightMode() {
            isNight = !isNight;
            const body = document.body;
            const toggleBg = document.getElementById('toggle-bg');
            const toggleDot = document.getElementById('toggle-dot');
            const eyes = document.querySelectorAll('.eye');

            if (isNight) {
                body.classList.add('night-mode');
                toggleBg.classList.replace('bg-gray-300', 'bg-indigo-900');
                toggleDot.style.transform = "translateX(100%)";
                document.getElementById('mode-label').innerText = "Wake Up";
                eyes.forEach(e => e.classList.add('closed')); // Close eyes
                triggerSpeech("Zzz... Goodnight Tanwie... üåô");
                createStars();
            } else {
                body.classList.remove('night-mode');
                toggleBg.classList.replace('bg-indigo-900', 'bg-gray-300');
                toggleDot.style.transform = "translateX(0)";
                document.getElementById('mode-label').innerText = "Nap Time?";
                eyes.forEach(e => e.classList.remove('closed')); // Open eyes
                triggerSpeech("Good morning! ‚òÄÔ∏è");
                document.getElementById('stars-container').innerHTML = ''; // Clear stars
            }
        }

        function createStars() {
            const container = document.getElementById('stars-container');
            for(let i=0; i<50; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                star.style.width = Math.random() * 3 + 'px';
                star.style.height = star.style.width;
                star.style.top = Math.random() * 100 + 'vh';
                star.style.left = Math.random() * 100 + 'vw';
                star.style.animationDelay = Math.random() * 2 + 's';
                container.appendChild(star);
            }
        }

        /* --- 4. MEMORY GAME --- */
        const icons = ['üß∏', 'üéÄ', 'üçØ', 'üç™', 'üéà', 'üíñ'];
        let cards = [...icons, ...icons];
        cards.sort(() => Math.random() - 0.5);
        
        const grid = document.getElementById('game-board');
        let flipped = [];
        let matched = 0;

        cards.forEach((icon, index) => {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <div class="card-face card-front">?</div>
                <div class="card-face card-back">${icon}</div>
            `;
            card.onclick = () => flipCard(card, icon);
            grid.appendChild(card);
        });

        function flipCard(card, icon) {
            if(card.classList.contains('flipped') || flipped.length >= 2) return;
            
            card.classList.add('flipped');
            flipped.push({ card, icon });

            if(flipped.length === 2) {
                if(flipped[0].icon === flipped[1].icon) {
                    matched++;
                    flipped = [];
                    if(matched === icons.length) document.getElementById('game-msg').style.opacity = '1';
                } else {
                    setTimeout(() => {
                        flipped[0].card.classList.remove('flipped');
                        flipped[1].card.classList.remove('flipped');
                        flipped = [];
                    }, 800);
                }
            }
        }

        /* --- 5. BEAR HUG --- */
        function giveHug() {
            const overlay = document.getElementById('hug-overlay');
            overlay.classList.add('hugging');
            setTimeout(() => {
                alert("Consider yourself HUGGED! ü§ó");
                overlay.classList.remove('hugging');
            }, 1500);
        }

        /* --- 6. UTILS --- */
        function petCat() {
            const b = document.getElementById('cat-bubble');
            b.style.opacity = '1';
            setTimeout(() => b.style.opacity = '0', 2000);
        }

        function toggleSound() {
            const audio = document.getElementById('bg-music');
            if(audio.paused) {
                audio.play();
                document.getElementById('sound-icon').innerText = 'üîä';
            } else {
                audio.pause();
                document.getElementById('sound-icon').innerText = 'üîá';
            }
        }

        /* --- 7. COUNTDOWN --- */
        function updateCountdown() {
            const now = new Date();
            const year = now.getFullYear();
            const target = new Date(year, 1, 11, 0, 0, 0); // Feb 11
            const diff = target - now;

            if (diff <= 0) {
                const btn = document.getElementById('day5-btn');
                btn.classList.remove('btn-disabled');
                btn.removeAttribute('disabled');
                return;
            }

            const h = Math.floor((diff % (86400000)) / 3600000);
            const m = Math.floor((diff % 3600000) / 60000);
            const s = Math.floor((diff % 60000) / 1000);

            document.getElementById('hours').innerText = String(h).padStart(2,'0');
            document.getElementById('minutes').innerText = String(m).padStart(2,'0');
            document.getElementById('seconds').innerText = String(s).padStart(2,'0');
        }
        setInterval(updateCountdown, 1000);
        updateCountdown();

        function checkDate(e) {
            const btn = document.getElementById('day5-btn');
            if (btn.classList.contains('btn-disabled')) {
                e.preventDefault();
                alert("Promise Day is on Feb 11th! ü§û");
                return false;
            }
            return true;
        }
    </script>
</body>
</html>